
@main("Administrator", "Konto administratora"){

<div>
	<div class="row-fluid">
	    <div class="btn-toolbar">
	    <div class="btn-group">
		    <a class="btn" href="@routes.Depot.create"><i class="icon-plus"></i></a>
	    </div>
	    </div>
    	<div class="span3">
    	
			<div id="jstree">
			    <ul>
			      <li>Root node 1
			        <ul>
			          <li>Child node 1</li>
			          <li>Child node 2</li>
			        </ul>
			      </li>
			      <li>Root node 2</li>
			    </ul>
			  </div>
			
			
		
			
    	</div>
    	<div class="span7">
			<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>lp.</th><th>nazwa</th>
				</tr>
			</thead>
			<tbody>

			</tbody>
			</table>		
			
			<form action="@(routes.Depot.show)/add/" method="POST" >
    
				<div class="clearfix  " id="name_field">
					<label for="name">Podaj nazwê elementu</label>
					<div class="input">
						<input type="text" id="name" name="name" value="nazwa" />
						<span class="help-inline"></span>
						<span class="help-block"></span> 
					</div>
				</div>

				<input type="submit"/>
    
			</form>
		
		</div>
    </div>
    
    	  <script>
    	  $(function () {
				$('#jstree').jstree({
					'core' : {
						'data' : {
							'url' : '@routes.CategoryManager.getNode()',
							'data' : function (node) {
								return { 'id' : node.id };
							}
						},
						'check_callback' : true,
						'themes' : {
							'responsive' : false
						}
					},
					'plugins' : ['state','dnd','contextmenu','wholerow']
					
				})
				.on('rename_node.jstree', function (e, data) {
					
				})
				.on('delete_node.jstree', function (e, data) {
					$.get('@routes.CategoryManager.deleteNode()', { 'id' : data.node.id })
						.fail(function () {
							data.instance.refresh();
						});
					
				})
				.on('create_node.jstree', function (e, data) {
					$.get('@routes.CategoryManager.addNode()', { 'id' : data.node.parent, 'position' : data.position, 'text' : data.node.text })
						.done(function (d) {
							data.instance.set_id(data.node, d.id);
						})
						.fail(function () {
							data.instance.refresh();
						});
					
				})
				.on('rename_node.jstree', function (e, data) {
					
					$.get('@routes.CategoryManager.renameNode()', { 'id' : data.node.id, 'text' : data.text })
						.fail(function () {
							data.instance.refresh();
						});
					
				})
				.on('move_node.jstree', function (e, data) {
					/*
					$.get('?operation=move_node', { 'id' : data.node.id, 'parent' : data.parent, 'position' : data.position })
						.fail(function () {
							data.instance.refresh();
						});
					*/
				})
				.on('copy_node.jstree', function (e, data) {
					/*
					$.get('?operation=copy_node', { 'id' : data.original.id, 'parent' : data.parent, 'position' : data.position })
						.always(function () {
							data.instance.refresh();
						});
					*/
				})
				.on('changed.jstree', function (e, data) {
					/*
					if(data && data.selected && data.selected.length) {
						$.get('?operation=get_content&id=' + data.selected.join(':'), function (d) {
							$('#data .default').html(d.content).show();
						});
					}
					else {
						$('#data .content').hide();
						$('#data .default').html('Select a file from the tree.').show();
					}
					*/
				});
			});
		</script>
	
}